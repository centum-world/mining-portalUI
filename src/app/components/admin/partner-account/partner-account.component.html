<div class="account-header">
   <p>Partner Account details</p>
   <!-- <div class="wallet-div">â‚¹ 8000</div> -->
</div>
<div class="account-content">
   <mat-tab-group animationDuration="2000ms" class="example-stretched-tabs" (selectedIndexChange)="tabChanged($event)">
      <mat-tab label="Pay">
         <div style="display: flex; justify-content: center; align-items: center;">
            <mat-card class="payment-card">
               <mat-card-header>
                 <div mat-card-avatar class="example-header-image"></div>
                 <mat-card-title>Monthly payout</mat-card-title>
                 <mat-card-subtitle>{{partnerID}}</mat-card-subtitle>
               </mat-card-header>
               
               <mat-card-content>
                 <form>
                  <div class="transaction" style="display: flex; justify-content: space-between; align-items: center;">
                     <mat-form-field>
                        <mat-label>Select amount</mat-label>
                        <mat-select (selectionChange)="onSelectChange($event)">
                          <mat-option [value]="perDayAmountDropDown">
                           {{perDayAmountDropDown | currency:'INR'}}
                          </mat-option>
                          <mat-option [value]="februaryAmount">
                           {{februaryAmount | currency:'INR'}}
                         </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker" placeholder="Choose a date" (dateChange)="onDateSelected($event)">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                  </div>
                 
                 </form>
               </mat-card-content>
               <mat-card-actions align="end">
                  <button mat-raised-button type="button">Cancel</button>
                  <button mat-raised-button type="submit" (click)="payNow()" color="primary">Pay now</button>
               </mat-card-actions>
             </mat-card>
         </div>
      </mat-tab>
      <mat-tab label="Request withdrawal">
         <div class="bakk-div">
            <!-- Check if partnerRequestHistory is empty -->
            <ng-container *ngIf="partnerRequestHistory.length === 0; else partnerRequestList">
               <mat-card class="example-card">
                  <mat-card-content>
                     <p>No request withdrawals found.</p>
                  </mat-card-content>
               </mat-card>
            </ng-container>

            <!-- Display the list of request withdrawals if partnerRequestHistory is not empty -->
            <ng-template #partnerRequestList>
               <mat-card class="example-card" *ngFor="let data of partnerRequestHistory">
                  <mat-card-header>
                     <div mat-card-avatar class="example-header-image"></div>
                     <mat-card-title>Bank details</mat-card-title>
                  </mat-card-header>
                  <mat-divider></mat-divider>
                  <mat-card-content class="single-line-content">
                     <div class="bank-details">
                        <h2>Id</h2><strong>{{partnerID}} </strong>
                     </div>
                     <div class="bank-details">
                        <h2>Amount</h2><strong>{{data.partner_wallet | currency:'INR':'symbol':'1.2-2'}}</strong>
                     </div>
                     <div class="bank-details">
                        <h2>Request date</h2><strong>{{data.request_date | date}} </strong>
                     </div>
                  </mat-card-content>
                  <mat-divider></mat-divider>
                  <mat-card-actions>
                     <button mat-button style="background: rgb(87, 251, 87);">Request</button>
                     <button mat-button style="background: red;" (click)="approved(data.id)">Approve</button>
                  </mat-card-actions>
               </mat-card>
            </ng-template>
         </div>
      </mat-tab>
      <mat-tab label="Approved withdrawal">
         <div class="bakk-div">
            <!-- Check if approvedRequest is empty -->
            <ng-container *ngIf="approvedRequest.length === 0; else approvedRequestList">
               <mat-card class="example-card">
                  <mat-card-content>
                     <p>No approved withdrawals found.</p>
                  </mat-card-content>
               </mat-card>
            </ng-container>

            <!-- Display the list of approved withdrawals if approvedRequest is not empty -->
            <ng-template #approvedRequestList>
               <mat-card class="example-card" *ngFor="let data of approvedRequest">
                  <mat-card-header>
                     <div mat-card-avatar class="example-header-image"></div>
                     <mat-card-title>Bank details</mat-card-title>
                  </mat-card-header>
                  <mat-divider></mat-divider>
                  <mat-card-content class="single-line-content">
                     <div class="bank-details">
                        <h2>Id</h2><strong>{{data.p_userid}} </strong>
                     </div>
                     <div class="bank-details">
                        <h2>Amount</h2><strong>{{data.partner_wallet | currency:'INR':'symbol':'1.2-2'}}</strong>
                     </div>
                     <div class="bank-details">
                        <h2>Request date</h2><strong>{{data.request_date | date}} </strong>
                     </div>
                     <div class="bank-details">
                        <h2>Approved date</h2><strong>{{data.approve_date | date}} </strong>
                     </div>
                  </mat-card-content>
                  <mat-divider></mat-divider>
                  <mat-card-actions>
                     <button mat-button style="background: rgb(0, 255, 38);">Approved successful</button>
                  </mat-card-actions>
               </mat-card>
            </ng-template>
         </div>
      </mat-tab>
      <mat-tab label="Bank details">
         <div class="bakk-div">
            <!-- Check if bankDetails is empty -->
            <ng-container *ngIf="bankDetails.length === 0; else bankDetailsList">
               <mat-card class="example-card">
                  <mat-card-content>
                     <p>No bank details found.</p>
                  </mat-card-content>
               </mat-card>
            </ng-container>

            <!-- Display the list of bank details if bankDetails is not empty -->
            <ng-template #bankDetailsList>
               <mat-card class="example-card" *ngFor="let data of bankDetails">
                  <mat-card-header>
                     <div mat-card-avatar class="example-header-image"></div>
                     <mat-card-title>Bank details</mat-card-title>
                  </mat-card-header>
                  <mat-divider></mat-divider>
                  <mat-card-content class="single-line-content">
                     <div class="bank-details">
                        <h2>Holder name</h2><strong>{{data.holder_name}} </strong>
                     </div>
                     <div class="bank-details">
                        <h2>Bank name</h2><strong>{{data.bank_name}}</strong>
                     </div>
                     <div class="bank-details">
                        <h2>Branch name</h2><strong>{{data.branch_name}}</strong>
                     </div>
                     <div class="bank-details">
                        <h2>Account name</h2><strong>{{data.account_no}} </strong>
                     </div>
                     <div class="bank-details">
                        <h2>IDSC Code</h2><strong>{{data.ifsc_code}} </strong>
                     </div>
                  </mat-card-content>
                  <mat-divider></mat-divider>
                  <mat-card-actions>
                     <button mat-button>Active</button>
                     <button mat-button>UPI</button>
                  </mat-card-actions>
               </mat-card>
            </ng-template>
         </div>
      </mat-tab>
      <mat-tab label="Payout History">
         <div style="display: flex; justify-content: center; align-items: center;">
            <mat-card class="partner-history-card">
               <mat-card-header>
                 <div mat-card-avatar class="example-header-image"></div>
                 <mat-card-title>Payment history</mat-card-title>
                 <mat-card-subtitle>{{partnerID}}</mat-card-subtitle>
               </mat-card-header>
               <mat-card-content>
                  <div class="container">
                     <div class="column">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Date of Payment</span> <strong>{{partnerDetails.dop | date}}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Total liquidity</span> <strong>{{partnerDetails.liquidity | currency:'INR'}}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Payout Tenure</span> <strong>12 TN</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Paid Tenure</span> <strong>{{partnerDetails.monthComplete}} TN</strong>
                        </div>
                     </div>
                     <div class="column">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Remaining Tenure</span> <strong>{{12 - partnerDetails.monthComplete}}&nbsp;TN</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Last Payout</span> <strong>{{partnerDetails.lastPaymentDate | date}}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Next Payout</span> <strong>15 to 22nd (Of every month)</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                           <span>Status</span> <strong>{{partnerDetails.status?'Active':'Close'}}</strong>
                        </div>
                     </div>
                   </div>
                   
               </mat-card-content>
               <mat-card-actions>
                  <button mat-button type="button" [style.background]="partnerDetails.status ? '#93fb48' : '#c41111'" mat-raised-button>
                     {{ partnerDetails.status ? 'ACTIVE' : 'CLOSE' }}
                   </button>
               </mat-card-actions>
             </mat-card>
         </div>
      </mat-tab>
   </mat-tab-group>
</div>