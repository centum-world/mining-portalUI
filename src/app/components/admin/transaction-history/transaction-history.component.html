<div class="mat-elevation-z8">
  <div class="main-div">
    <div class="searchby">
      <mat-icon style="cursor: pointer">arrow_back</mat-icon>
      <select [(ngModel)]="type" (click)="payoutType()">
        <option value="partner">Partner Payout</option>
        <option value="referral">Referral Payout</option>
      </select>
      <input
        placeholder="Search by userid..."
        (input)="onInputChange($event)"
      />
    </div>
    <form>
      <label for="year">Select Year:</label>
      <select id="year" [(ngModel)]="selectedYear" name="year">
        <option *ngFor="let year of availableYears" [value]="year">
          {{ year }}
        </option>
      </select>

      <label for="month">Select Month:</label>
      <select id="month" [(ngModel)]="selectedMonth" name="month">
        <option *ngFor="let month of availableMonths" [value]="month">
          {{ month }}
        </option>
      </select>

      <button type="button" (click)="fetchTransactions()">
        Fetch Transactions
      </button>
    </form>
  </div>

  <div *ngIf="type === 'partner'">
    <div *ngIf="showTable()" class="table-container">
      <table
        mat-table
        [dataSource]="dataSource"
        class="mat-elevation-z8 mat-table-custom"
      >
        <ng-container matColumnDef="userId">
          <th mat-header-cell *matHeaderCellDef>User ID</th>
          <td mat-cell *matCellDef="let element">{{ element.userId }}</td>
        </ng-container>

        <ng-container matColumnDef="rigid">
          <th mat-header-cell *matHeaderCellDef>RIG ID</th>
          <td mat-cell *matCellDef="let element">{{ element.rigid }}</td>
        </ng-container>

        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Amount</th>
          <td mat-cell *matCellDef="let element">
            {{ element.amount | currency : "INR" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let element">{{ element.date | date }}</td>
        </ng-container>

        <ng-container matColumnDef="liquidity">
          <th mat-header-cell *matHeaderCellDef>Liquidity</th>
          <td mat-cell *matCellDef="let element">
            {{ element.liquidity | currency : "INR" }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <div *ngIf="!showTable()">No transactions found.</div>
  </div>
  <div *ngIf="type === 'referral'">
    hiii
  </div>
</div>
