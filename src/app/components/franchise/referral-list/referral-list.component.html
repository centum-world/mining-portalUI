<div class="header">
  <div class="heading" style="gap: 1rem;">
    <div>
      <mat-icon style="cursor: pointer" (click)="goBack()">arrow_back</mat-icon>
    </div>
    <p>Member details</p>
  </div>
  <div>
    <mat-form-field>
      <input
        matInput
        (keyup)="applyFilter($event.target.value)"
        placeholder="Search"
      />
    </mat-form-field>
  </div>
</div>

<div class="large-expand">
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="m_userid">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Member ID
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_userid }}</td>
      </ng-container>

      <ng-container matColumnDef="m_name">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          F-Name
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_name }}</td>
      </ng-container>

      <ng-container matColumnDef="m_lname">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          L-Name
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_lname }}</td>
      </ng-container>

      <ng-container matColumnDef="m_email">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Email
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_email }}</td>
      </ng-container>

      <ng-container matColumnDef="m_phone">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Phone
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_phone }}</td>
      </ng-container>

      <ng-container matColumnDef="m_refferid">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Referred ID
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_refferid }}</td>
      </ng-container>

      <ng-container matColumnDef="reffer_id">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Referral ID
        </th>
        <td mat-cell *matCellDef="let member">{{ member.reffer_id }}</td>
      </ng-container>

      <ng-container matColumnDef="m_gender">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Gender
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_gender }}</td>
      </ng-container>

      <ng-container matColumnDef="m_state">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          State
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_state }}</td>
      </ng-container>

      <ng-container matColumnDef="m_add">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Address
        </th>
        <td mat-cell *matCellDef="let member">{{ member.m_add }}</td>
      </ng-container>

      <ng-container matColumnDef="isVerify">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          IsVerified
        </th>
        <td
          mat-cell
          *matCellDef="let member"
          [ngStyle]="{ color: member.isVerify === 1 ? 'green' : 'red' }"
        >
          {{ member.isVerify === 1 ? "Yes" : "No" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="franchise-list-header">
          Actions
        </th>
        <td mat-cell *matCellDef="let member">
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="openViewMemberDialog(member)">
              
                <mat-icon>visibility</mat-icon>View
            </button>

            <button
              mat-menu-item
              [disabled]="member.isVerify === 1"
              (click)="openVerifyMemberDialog(member)"
            >
            <mat-icon>check_circle</mat-icon> Verify
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let member; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25, 100]"
      [showFirstLastButtons]="true"
    >
    </mat-paginator>
  </div>
</div>
