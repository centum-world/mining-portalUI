<div class="main-content">
  <main>
    <div *ngIf="!viewMemberList" class="cards">
      <div class="card-single">
        <div
          style="display: flex; flex-direction: column; justify-content: start"
        >
          <span>Transaction History</span>
          <span>Today's Transaction History</span>
        </div>
        <div>
          <div
            style="
              display: flex;
              flex-direction: column;
              justify-content: start;
            "
          >
            <span class="icon" (click)="viewTransactionHistory()">view</span>
            <span class="icon" (click)="viewTodayTransactionHistory()">view</span>
          </div>
        </div>
      </div>

      <div class="card-single">
        <div>
          <span>Total Referral: </span>
          <span>{{ totalReferralCount }}</span
          ><br />
          <span>Today's Referral: </span>
          <span>{{ todayReferralCount }}</span>
        </div>
        <div class="icon" (click)="viewMemberHistoryList()">
          <span>view</span>
        </div>
      </div>

      <div class="card-single">
        <div>
          <span>Total RIG Partner: </span>
          <span>{{ totalPartnerCount + totalMultipleRIGPartnerCount }}</span
          ><br />
          <span>Today's RIG Partner: </span>
          <span>{{ todayPartnerCount + todayMultipleRIGPartnerCount }}</span>
        </div>

        <div class="icon" (click)="miningPartnerViewList()">
          <span>view</span>
        </div>
      </div>

      <div class="card-single">
        <div
          style="display: flex; flex-direction: column; justify-content: start"
        >
          <span>Total Liquidity</span>
          <span>{{ totalLiquidityOfPartner | currency : "INR" }}</span>
        </div>
        <div>
          <div
            style="
              display: flex;
              flex-direction: column;
              justify-content: start;
            "
          >
            <span class="icon" (click)="activePartnerViewList()">view</span>
          </div>
        </div>
      </div>

      <!-- <div class="card-single">
        <div>
          <h6>Wallet</h6>
          <span>Partner History</span>
        </div>
        <div class="icon">
          <span (click)="partnerWalletHistoryViewList()">view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Wallet</h6>
          <span>Member History</span>
        </div>
        <div class="icon">
          <span data-toggle="modal" data-target="#allMemberWallet">view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Wallet</h6>
          <span>Member History</span>
        </div>
        <div class="icon">
          <span (click)="memberWalletHistoryViewList()">view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div class="col-sm-8">
          <h6>Withdrawal Request</h6>
          <span>Member</span>
        </div>
        <div class="icon col-sm-4" (click)="viewList('send_withdrawal_member')">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div class="col-sm-8">
          <h6>Withdrawal Request</h6>
          <span>Member</span>
        </div>
        <div class="icon col-sm-4" (click)="memberWithdrawalRequestViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Approved Withdrawal</h6>
          <span>Member</span>
        </div>
        <div class="icon" (click)="memberApprovedWithdrawalViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Withdrawal Request</h6>
          <span>Partner</span>
        </div>
        <div class="icon" (click)="partnerWithdrawalRequestViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Approved Withdrawal</h6>
          <span>Partner</span>
        </div>
        <div class="icon" (click)="partnerApprovedWithdrawalHistoryViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Pending Partners</h6>
          <span>Payment</span>
        </div>
        <div class="icon" (click)="pendingPartnersViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Refferal Request</h6>
          <span>Partner</span>
        </div>
        <div class="icon" (click)="partnerReferralPayoutRequestViewList()">
          <span>view</span>
        </div>
      </div> -->

      <!-- <div class="card-single">
        <div>
          <h6>Refferal Approved</h6>
          <span>Partner</span>
        </div>
        <div class="icon" (click)="partnerReferralPayoutApprovedViewList()">
          <span>view</span>
        </div>
      </div> -->
      <div class="card-single">
        <div>
          <span>Total BMM: </span>
          <span>{{ totalBMMCount }}</span
          ><br />
          <span>Today's BMM: </span>
          <span>{{ todayBMMCount }}</span>
        </div>
        <div class="icon" (click)="bmmhistory()">
          <span>view</span>
        </div>
      </div>

      <div class="card-single">
        <div>
          <span>Total Franchise: </span>
          <span>{{ totalFranchiseCount }}</span
          ><br />
          <span>Today's Franchise: </span>
          <span>{{ todayFranchiseCount }}</span>
        </div>
        <div class="icon" (click)="franchisehistory()">
          <span>view</span>
        </div>
      </div>
    </div>

    <div *ngIf="viewMemberList && show_detail_list === 'view_member'">
      <app-member-details-list></app-member-details-list>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'view_mining_partner'">
      <app-mining-partner-details
        (partnerView)="receivePartnerView($event)"
      ></app-mining-partner-details>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'active_partner'">
      <app-active-partner></app-active-partner>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'send_withdrawal'">
      <app-send-withdrawal-amount
        (uderid)="getUserId($event)"
      ></app-send-withdrawal-amount>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'approved_withdrawal'">
      <app-approved-withdrawal-history></app-approved-withdrawal-history>
    </div>
    <div
      *ngIf="viewMemberList && show_detail_list === 'send_withdrawal_member'"
    >
      <app-member-request-history></app-member-request-history>
    </div>
    <div
      *ngIf="viewMemberList && show_detail_list === 'approved-member-history'"
    >
      <app-approved-member-withdrawal-history></app-approved-member-withdrawal-history>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'pending_payment'">
      <app-pending-partner-payment></app-pending-partner-payment>
    </div>
    <div *ngIf="partnerView">
      <app-mining-partner-view
        [userid]="receiveFromPartnerView"
      ></app-mining-partner-view>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'refferal_request'">
      <app-partner-refferal-withdrawal-request></app-partner-refferal-withdrawal-request>
    </div>
    <div *ngIf="viewMemberList && show_detail_list === 'refferal_approved'">
      <app-partner-refferal-withdrawal-approved></app-partner-refferal-withdrawal-approved>
    </div>
  </main>
</div>

<!-- Add partner total wallet-->

<div
  class="modal fade"
  id="allPartnerWallet"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Partner Wallet Details
        </h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-hover table-light">
          <thead>
            <tr>
              <th scope="col">Sr No.</th>
              <th scope="col">Partner ID</th>
              <th scope="col">Wallet Amount</th>
              <th scope="col">Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of partnerTotalWallet; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ data.p_userid }}</td>
              <td>{{ data.walletAmount | currency : "INR" }}</td>
              <td>{{ data.wallet_update_date | date }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add member total wallet----------------------------------------------------------------------->

<div
  class="modal fade"
  id="allMemberWallet"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Member Wallet Details
        </h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-hover table-light">
          <thead>
            <tr>
              <th scope="col">Sr No.</th>
              <th scope="col">Member ID</th>
              <th scope="col">Wallet Amount</th>
              <th scope="col">Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of memberWalletEachMonth; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ data.m_userid }}</td>
              <td>{{ data.walletAmount | currency : "INR" }}</td>
              <td>{{ data.wallet_update_date | date }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- partnership bond upload -->

<div
  class="modal fade"
  id="partnershipBond"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">Upload Partnership Bond</h4>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <label for="file">Upload a file:</label>&nbsp;
          <input
            type="file"
            id="file"
            name="file"
            (change)="onFileSelected($event)"
            required
          />
        </div>
        <br />
        <div>
          <label for="userid">User ID:</label>&nbsp;
          <input
            type="text"
            placeholder="User Id"
            id="userid"
            name="userid"
            [(ngModel)]="userid"
            required
          />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
        <button
          type="submit"
          (click)="onSubmit()"
          mat-raised-button
          color="primary"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Help and Support -->

<div
  class="modal fade"
  id="helpAndSupport"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">Help And Support</h4>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-hover table-light">
          <thead>
            <tr>
              <th scope="col">Sr No.</th>
              <th scope="col">Partner ID</th>
              <th scope="col">Query Date</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of helpAndSupportQuery; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ data.p_userid }}</td>
              <td>{{ data.query_date | date }}</td>
              <td>
                <button
                  class="btn btn-primary"
                  (click)="helpAndSupportQueries(data.p_userid, data.id)"
                  data-toggle="modal"
                  data-target="#helpAndSupportQueries"
                >
                  view
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
        <!-- <button type="submit" (click)="onSubmit()" mat-raised-button color="primary">Submit</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Help AND Support Queries -->
<div
  class="modal fade"
  id="helpAndSupportQueries"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel" style="font-family: Calibri">
          Help And Support Queries
        </h4>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p style="font-family: Calibri">{{ partnerHelpQuery }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
        <!-- <button type="submit" (click)="onSubmit()" mat-raised-button color="primary">Submit</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Accounts Paid Withdrawal -->

<div
  class="modal fade"
  id="accountsPaidWithdrawal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel" style="font-family: Calibri">
          Accounts(Paid Withdrawal)
        </h4>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- <div class="account_paid_withdrawal">
          <p>Partner withdrawal</p>
          :<span>{{ partnerTotalPayout | currency : "INR" }}</span>
        </div> -->
        <!-- <div class="account_paid_withdrawal">
          <p>Refferal partner</p>
          :<span>{{ refferalPartner | currency : "INR" }}</span>
        </div> -->
        <!-- <div class="account_paid_withdrawal">
          <p>Refferal member</p>
          :<span>{{ refferalMember | currency : "INR" }}</span>
        </div> -->
        <!-- <div class="account_paid_withdrawal">
          <p>Total Withdrawal</p>
          :<span>{{ totalWithdrawal | currency : "INR" }}</span>
        </div> -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
        <!-- <button type="submit" (click)="onSubmit()" mat-raised-button color="primary">Submit</button> -->
      </div>
    </div>
  </div>
</div>
